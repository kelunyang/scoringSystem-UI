<template>
  <v-sheet>
    <v-dialog v-model='editorW' fullscreen hide-overlay transition='dialog-bottom-transition'>
      <v-card>
        <v-toolbar dark color='primary'>
          <v-btn icon dark @click='closeFullEditor'>
            <font-awesome-icon icon='times' />
          </v-btn>
          <v-toolbar-title>全螢幕編輯器</v-toolbar-title>
        </v-toolbar>
        <v-card-text>
          <editor
            ref='fullEditor'
            :initialValue='editorTextD'
            :options='editorOptions'
            height='90vh'
            initialEditType='wysiwyg'
            previewStyle='vertical'
            @change='saveContent'
            @load='onEditorLoad'/>
        </v-card-text>
      </v-card>
    </v-dialog>
    <v-dialog v-model='instructionW' fullscreen hide-overlay transition='dialog-bottom-transition'>
      <v-card>
        <v-toolbar dark color='primary'>
          <v-btn icon dark @click='closeInstruction'>
            <font-awesome-icon icon='times' />
          </v-btn>
          <v-toolbar-title>編輯知識點寫作指引</v-toolbar-title>
        </v-toolbar>
        <v-card-text>
          <v-file-input prepend-icon='fa-paperclip' multiple label='輔助說明文件／圖片上傳'></v-file-input>
          <v-textarea
            solo
            label="請在此輸入知識點寫作指引"
            v-model='instruction'
          ></v-textarea>
        </v-card-text>
      </v-card>
    </v-dialog>
    <v-dialog persistent v-model="editorMode" max-width="290">
      <v-card>
        <v-card-title class="headline">寫作模式</v-card-title>
        <v-card-text>在這個模式中，全螢幕編輯器會被開啟，如果你只是要回復Issue，或者是不需要使用全螢幕編輯，直接按左上角的X即可</v-card-text>
        <v-card-actions>
          <v-spacer></v-spacer>
          <v-btn color="green darken-1" text @click="editorMode = false">關閉說明</v-btn>
        </v-card-actions>
      </v-card>
    </v-dialog>
    <v-dialog persistent v-model="instructionMode" max-width="290">
      <v-card>
        <v-card-title class="headline">寫作指引編輯模式</v-card-title>
        <v-card-text>知識點寫作指引會被當作一個關閉的Issue放在腳本及影片審查的最上方，並用鑽石記號標記，只有在此模式下才可以編輯寫作指引的「正文」，一旦此階段結束，您只能用回復Issue的方式回覆寫作指引</v-card-text>
        <v-card-actions>
          <v-spacer></v-spacer>
          <v-btn color="green darken-1" text @click="instructionMode = false">關閉說明</v-btn>
        </v-card-actions>
      </v-card>
    </v-dialog>
    <v-main class='pa-0'>
      <v-row>
          <v-col>
            <v-main class='pa-0'>
              <v-row ref='header'>
                <v-col class='d-flex flex-row'>
                  <span class='text-h4 pl-10 font-weight-black'>知識點名稱：太陽餅裡沒有太陽</span>
                  <v-main class='pa-0'>
                    <v-row>
                      <v-col class='pa-0 ml-3 d-flex flex-row justify-start align-self-start'>
                        <v-chip v-for='(item, k) in robotTags' :key='k' class='ma-2' :style='tagColor(k)' label text-color='white'>
                          {{ item }}
                        </v-chip>
                      </v-col>
                    </v-row>
                  </v-main>
                </v-col>
              </v-row>
              <v-row ref='logarea'>
                <v-col>
                  <v-list>
                    <v-list-item v-for='(item,i) in editlog.slice(0,1)' :key='i'>
                      <v-list-item-avatar>
                        <font-awesome-icon :icon='item.icon' class='fa-2x' />
                      </v-list-item-avatar>
                      <v-list-item-content style='text-align: left'>
                        <v-list-item-title>{{ item.date }} [{{ item.user }}]{{ item.message }}</v-list-item-title>
                      </v-list-item-content>
                      <v-list-item-action>
                        <v-dialog v-model='editlogw' fullscreen hide-overlay transition='dialog-bottom-transition'>
                          <template v-slot:activator='{ on, attrs }'>
                            <v-btn
                              color='primary'
                              dark
                              v-bind='attrs'
                              v-on='on'
                            >
                              <font-awesome-icon icon='ellipsis-v' />查看完整編輯紀錄
                            </v-btn>
                          </template>
                          <v-card>
                            <v-toolbar dark color='primary'>
                              <v-btn icon dark @click='editlogw = false'>
                                <font-awesome-icon icon='times' />
                              </v-btn>
                              <v-toolbar-title>知識點完整編輯紀錄</v-toolbar-title>
                            </v-toolbar>
                            <v-virtual-scroll
                              :items='editlog'
                              :item-height='50'
                              height='550'
                            >
                              <template v-slot='{ item }'>
                                <v-list-item>
                                  <v-list-item-avatar>
                                    <font-awesome-icon :icon='item.icon' class='fa-2x' />
                                  </v-list-item-avatar>
                                  <v-list-item-content style='text-align: left'>
                                    <v-list-item-title>{{ item.date }} [{{ item.user }}]{{ item.message }}</v-list-item-title>
                                  </v-list-item-content>
                                </v-list-item>
                                <v-divider inset></v-divider>
                              </template>
                            </v-virtual-scroll>
                          </v-card>
                        </v-dialog>
                      </v-list-item-action>
                    </v-list-item>
                    <v-divider inset></v-divider>
                  </v-list>
                </v-col>
              </v-row>
              <v-row ref='buttonarea'>
                <v-col class='d-flex flex-row justify-end'>
                  <v-dialog v-model='previewW' fullscreen hide-overlay transition='dialog-bottom-transition'>
                    <template v-slot:activator='{ on, attrs }'>
                      <v-btn v-bind='attrs' v-on='on' @click='openFullViewer'>
                        <font-awesome-icon icon='search' />預覽沒有怪圖示的版本
                      </v-btn>
                    </template>
                    <v-card>
                      <v-toolbar dark color='primary'>
                        <v-btn icon dark @click='previewW = false'>
                          <font-awesome-icon icon='times' />
                        </v-btn>
                        <v-toolbar-title>預覽乾淨版本</v-toolbar-title>
                      </v-toolbar>
                      <v-card-text>
                        <span v-if='!viewerContentPopulated' class='text-body-1 text-center'>
                          <font-awesome-icon icon='spinner' spin />
                          載入中，請稍後
                        </span>
                        <viewer
                          ref='fullViewer'
                          :value='editorTextR'
                          height='200px'
                          previewStyle='vertical'
                          @load='viewerLoaded' />
                      </v-card-text>
                    </v-card>
                  </v-dialog>
                  <v-btn @click.stop='openFullEditor'>
                    <font-awesome-icon icon='expand-arrows-alt' />全螢幕編輯器
                  </v-btn>
                  <v-tooltip bottom>
                    <template v-slot:activator="{ on, attrs }">
                      <v-btn @click='saveCloud' v-bind="attrs" v-on="on">
                        <font-awesome-icon icon='cloud-upload-alt' />儲存目前編輯結果
                      </v-btn>
                    </template>
                    <span>{{ tipword }}</span>
                  </v-tooltip>
                </v-col>
              </v-row>
              <v-row ref='docarea'>
                <v-col>
                  <editor
                  ref='scriptEditor'
                  :initialValue='editorTextD'
                  :options='editorOptions'
                  height='800px'
                  initialEditType='wysiwyg'
                  previewStyle='vertical'
                  @change='saveContent'
                  @load='onEditorLoad'
                  @stateChange='onCursorChange'
                  @focus='onCursorChange'/>
                </v-col>
              </v-row>
            </v-main>
          </v-col>
          <v-col lg='4'>
            <v-main class='pa-0'>
              <v-row>
                <v-col class='pa-0 d-flex flex-column'>
                  <div class='text-body-2 pl-10 font-weight-bold'>
                    到期日期： 2020/10/19 14:20
                    <font-awesome-icon icon='grip-lines-vertical' />
                    Issues：
                    <font-awesome-icon icon='check-circle' />
                    {{ issuestatisticsConvert(issues).close.length }}
                    <font-awesome-icon icon='exclamation-circle'/>
                    {{ issuestatisticsConvert(issues).open.length }}
                  </div>
                  <v-autocomplete
                      v-model="selectedTags"
                      :items="editTags"
                      chips
                      clearable
                      label="請輸入標籤"
                      multiple
                      prepend-icon="fab fa-slack-hash"
                      solo
                      :search-input.sync="newEditTag"
                  >
                    <template v-slot:selection="data">
                        <v-chip
                            v-bind="data.attrs"
                            :input-value="data.selected"
                            close
                            close-icon="fa-times"
                            @click="data.select"
                            @click:close="removeTag(data.item)"
                        >
                            <strong>{{ data.item }}</strong>&nbsp;
                        </v-chip>
                    </template>
                  </v-autocomplete>
                  <v-menu offset-y :close-on-content-click="false" v-model='issuePop'>
                    <template v-slot:activator='{ on, attrs }'>
                        <v-btn
                            color='primary'
                            dark
                            v-bind='attrs'
                            v-on='on'
                            @click='addIssue'
                        >
                        我要提出issue！（下一個書籤符號：{{ nextEmoji[0] }}）
                        </v-btn>
                    </template>
                    <v-card>
                        <v-card-title>提出新的Issue</v-card-title>
                        <v-card-text>
                          <span class='text-caption red--text'>請注意，您只需要描述當前的issue，就算是同一個時間，也請一案歸一案，有利專案流程順暢</span>
                          <span class='text-caption red--text'>系統會在文件中自動插入三個書籤符號，請不要手動刪除那些符號</span>
                          <v-text-field label='請輸入Issue標題'></v-text-field>
                          <v-textarea label='請描述issue內容' hint='如對某個詞要加重描述，可以用 *加粗* ，如果要編號等特殊功能，請在這些詞組後面都補上一個空格，系統之後會自動轉換，例如1. 第一項'></v-textarea>
                          <v-file-input prepend-icon='fa-paperclip' multiple label='輔助說明文件／圖片上傳'></v-file-input>
                        </v-card-text>
                        <v-card-actions>
                            <v-btn @click='issuePop = false'>送出issue</v-btn>
                        </v-card-actions>
                    </v-card>
                  </v-menu>
                </v-col>
              </v-row>
              <v-row>
                <v-col>
                  <v-sheet :height='displaypanelHeight' class='overflow-y-auto'>
                    <v-expansion-panels focusable accordion v-model='issuelistViewer'>
                      <v-expansion-panel v-for='item in issues' :key='item.id'>
                        <v-expansion-panel-header @click='posForward(item.tagEmoji)'>
                          <template v-slot:actions>
                            <font-awesome-icon :icon='statusConvert(item.status)' class='fa-2x' />
                          </template>
                          [{{ editorConvert(item.dialogs) }} @ {{ item.tagEmoji }}] {{ item.title }}
                        </v-expansion-panel-header>
                        <v-expansion-panel-content>
                          <v-timeline dense>
                            <v-timeline-item>
                              <template v-slot:icon>
                                <v-avatar>
                                  <img src='https://avatars.dicebear.com/api/male/mrx.svg'>
                                </v-avatar>
                              </template>
                              <v-textarea
                                label='請輸入您的意見'
                                hint='如果您只是想關閉這個issue，直接按下面的關閉issue按鈕即可'
                              ></v-textarea>
                              <v-btn>
                                送出回復
                              </v-btn>
                              <v-btn @click='removeIssue(item.tagEmoji)'>
                                關閉issue
                              </v-btn>
                            </v-timeline-item>
                            <v-timeline-item v-for='dialog in item.dialogs' :key='dialog.id'>
                              <template v-slot:icon>
                                <v-avatar>
                                  <img :src='dialog.ava'>
                                </v-avatar>
                              </template>
                              <v-row justify='space-between'>
                                <v-col cols='7' class='text-left'>
                                  <div class='text-subtitle-2 font-weight-bold text-decoration-underline'> {{ dialog.name }} </div>
                                  <div class='text-body-2'> {{ dialog.body }} </div>
                                  <div class='text-caption'>附件下載（點此）</div>
                                </v-col>
                                <v-col class='text-right text-overline' cols='5'>
                                  {{ dateConvert(dialog.tick) }}
                                </v-col>
                              </v-row>
                            </v-timeline-item>
                          </v-timeline>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                    </v-expansion-panels>
                  </v-sheet>
                </v-col>
              </v-row>
            </v-main>
          </v-col>
      </v-row>
    </v-main>
  </v-sheet>
</template>

<style scoped></style>

<script>
// @ is an alias to /src
import Vue from 'vue';
import { library } from '@fortawesome/fontawesome-svg-core';
import { fas, faFileAlt } from '@fortawesome/free-solid-svg-icons';
import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';
import moment from 'moment';
import momentDurationFormatSetup from 'moment-duration-format';
import axios from 'axios';
import VueAxios from 'vue-axios';
import { config as SiteConfig } from '../config';
import colorSyntax from '@toast-ui/editor-plugin-color-syntax';
import { Editor, Viewer } from '@toast-ui/vue-editor';
import { randomColor } from 'randomcolor';

import 'codemirror/lib/codemirror.css';
import '@toast-ui/editor/dist/toastui-editor.css';
import 'tui-color-picker/dist/tui-color-picker.css';
import '@fortawesome/fontawesome-free/css/all.css';

momentDurationFormatSetup(moment);
library.add(fas, faFileAlt);
Vue.component('font-awesome-icon', FontAwesomeIcon);
Vue.config.productionTip = false;
Vue.use(VueAxios, axios);
Object.defineProperty(Vue.prototype, '$siteconfig', { value: SiteConfig });

export default {
  name: 'docReview',
  components: {
    editor: Editor,
    viewer: Viewer
  },
  props: {
    status: String
  },
  methods: {
    tagColor: function (k) {
        return 'background-color: ' + this.randomColors[k];
    },
    closeInstruction: function () {
      this.instructionW = false;
      // 這裡要處理上傳
      location.href = '#/userDashBoard';
    },
    closeFullEditor: function () {
      this.saveContent();
      if (this.status === 1) {
        location.href = '#/userDashBoard';
      } else {
        this.editorW = false;
        this.$refs.scriptEditor.invoke('setMarkdown', this.$refs.fullEditor.invoke('getMarkdown'));
      }
    },
    saveContent: function () {
      this.editorText = encodeURIComponent(this.$refs.scriptEditor.invoke('getMarkdown'));
    },
    removeIssue: function (emoji) {
      let oriContent = this.saveContent();
      oriContent = this.emojiEliminator(oriContent, emoji);
      this.$refs.scriptEditor.invoke('setMarkdown', oriContent);
      this.editorText = encodeURIComponent(oriContent);
    },
    onCursorChange: function () {
      let range = this.$refs.scriptEditor.invoke('getRange');
      let selectIssue = [...this.issues].find((item) => {
        return range.startContainer.textContent.includes(item.tagEmoji);
      });
      this.issuelistViewer = selectIssue === undefined ? undefined : selectIssue.id;
    },
    emojiAmplifier: function (emoji) {
      return emoji + emoji + emoji;
    },
    emojiEliminator: function (text, emoji) {
      let regex = emoji === undefined ? new RegExp(this.emoji.join('|'), 'g') : new RegExp(emoji, 'g');
      return text.replace(regex, '');
    },
    addIssue: function () {
      if (!this.issuePop) {
        let nextEmoji = this.nextEmoji.shift();
        this.$refs.scriptEditor.invoke('insertText', this.emojiAmplifier(nextEmoji));
        this.usedEmoji.push(nextEmoji);
      }
      this.issuePop = true;
    },
    posForward: function (tagEmoji) {
      let xpath = (document.evaluate('//*[contains(text(), "' + this.emojiAmplifier(tagEmoji) + '")]', document, null, XPathResult.ANY_TYPE, null));
      let foundNode = xpath.iterateNext();
      foundNode.scrollIntoView();
    },
    saveCloud: function () {
    },
    timeConvert: function (time) {
      return moment.duration(time, 'second').format('mm分ss秒SS');
    },
    dateConvert: function (time) {
      return moment.unix(time).format('YYYY/MM/DD HH:mm:ss');
    },
    statusConvert: function (status) {
      switch (status) {
        case 0:
          return 'question-circle';
        case 1:
          return 'check-circle';
      }
    },
    editorConvert: function (dialog) {
      dialog = [...dialog].sort((a, b) => {
        return a.tick - b.tick;
      });
      return dialog[0].name;
    },
    issuestatisticsConvert: function (dialog) {
      let openissues = [...dialog].filter((item) => {
        return item.status === 0;
      });
      let closeissues = [...dialog].filter((item) => {
        return item.status === 1;
      });
      return {
        open: openissues,
        close: closeissues
      };
    },
    updateInfo: function () {
      this.displaypanelHeight = this.$refs.header.clientHeight + this.$refs.docarea.clientHeight + this.$refs.logarea.clientHeight;
    },
    onEditorLoad: function () {
      this.updateInfo();
    },
    openFullEditor: function () {
      this.saveContent();
      this.editorW = true;
      this.$refs.fullEditor.invoke('setMarkdown', this.$refs.scriptEditor.invoke('getMarkdown'));
    },
    openFullViewer: function () {
      console.log(this.viewerLoad);
      if (this.viewerLoad) {
        this.saveContent();
        this.$refs.fullViewer.invoke('setMarkdown', this.editorTextR);
        this.viewerContentPopulated = true;
      }
    },
    viewerLoaded: function () {
      this.viewerLoad = true;
      setTimeout(() => {
        this.openFullViewer();
      }, 2000);
    }
  },
  created () {
    this.$emit('viewIn', {
      text: '文件審查',
      icon: faFileAlt
    });
  },
  mounted () {
    setTimeout(() => {
      this.editorMode = this.status === '1';
      this.instructionMode = this.status === '0';
    }, 100);
  },
  computed: {
    editorTextD: function () {
      return decodeURIComponent(this.editorText);
    },
    editorTextR: function () {
      return this.emojiEliminator(decodeURIComponent(this.editorText));
    },
    nextEmoji: function () {
      return ((this.emoji.filter(x => !this.usedEmoji.includes(x))).sort(() => Math.random() - 0.5));
    },
    emoji: function () {
      let emojiStr = '😄|😃|😀|😊|☺|😉|😍|😘|😚|😗|😙|😜|😝|😛|😳|😁|😔|😌|😒|😞|😣|😢|😂|😭|😪|😥|😰|😅|😓|😩|😫|😨|😱|😠|😡|😤|😖|😆|😋|😷|😎|😴|😵|😲|😟|😦|😧|😈|👿|😮|😬|😐|😕|😯|😶|😇|😏|😑|👲|👳|👮|👷|💂|👶|👦|👧|👨|👩|👴|👵|👱|👼|👸|😺|😸|😻|😽|😼|🙀|😿|😹|😾|👹|👺|🙈|🙉|🙊|💀|👽|💩|🔥|✨|🌟|💫|💥|💢|💦|💧|💤|💨|👂|👀|👃|👅|👄|👍|👎|👌|👊|✊|✌|👋|✋|👐|👆|👇|👉|👈|🙌|🙏|☝|👏|💪|🚶|🏃|💃|👫|👪|👬|👭|💏|💑|👯|🙆|🙅|💁|🙋|💆|💇|💅|👰|🙎|🙍|🙇|🎩|👑|👒|👟|👞|👡|👠|👢|👕|👔|👚|👗|🎽|👖|👘|👙|💼|👜|👝|👛|👓|🎀|🌂|💄|💛|💙|💜|💚|❤|💔|💗|💓|💕|💖|💞|💘|💌|💋|💍|💎|👤|👥|💬|👣|💭|🐶|🐺|🐱|🐭|🐹|🐰|🐸|🐯|🐨|🐻|🐷|🐽|🐮|🐗|🐵|🐒|🐴|🐑|🐘|🐼|🐧|🐦|🐤|🐥|🐣|🐔|🐍|🐢|🐛|🐝|🐜|🐞|🐌|🐙|🐚|🐠|🐟|🐬|🐳|🐋|🐄|🐏|🐀|🐃|🐅|🐇|🐉|🐎|🐐|🐓|🐕|🐖|🐁|🐂|🐲|🐡|🐊|🐫|🐪|🐆|🐈|🐩|🐾|💐|🌸|🌷|🍀|🌹|🌻|🌺|🍁|🍃|🍂|🌿|🌾|🍄|🌵|🌴|🌲|🌳|🌰|🌱|🌼|🌐|🌞|🌝|🌚|🌑|🌒|🌓|🌔|🌕|🌖|🌗|🌘|🌜|🌛|🌙|🌍|🌎|🌏|🌋|🌌|🌠|⭐|☀|⛅|☁|⚡|☔|❄|⛄|🌀|🌁|🌈|🌊|🎍|💝|🎎|🎒|🎓|🎏|🎆|🎇|🎐|🎑|🎃|👻|🎅|🎄|🎁|🎋|🎉|🎊|🎈|🎌|🔮|🎥|📷|📹|📼|💿|📀|💽|💾|💻|📱|☎|📞|📟|📠|📡|📺|📻|🔊|🔉|🔈|🔇|🔔|🔕|📢|📣|⏳|⌛|⏰|⌚|🔓|🔒|🔏|🔐|🔑|🔎|💡|🔦|🔆|🔅|🔌|🔋|🔍|🛁|🛀|🚿|🚽|🔧|🔩|🔨|🚪|🚬|💣|🔫|🔪|💊|💉|💰|💴|💵|💷|💶|💳|💸|📲|📧|📥|📤|✉|📩|📨|📯|📫|📪|📬|📭|📮|📦|📝|📄|📃|📑|📊|📈|📉|📜|📋|📅|📆|📇|📁|📂|✂|📌|📎|✒|✏|📏|📐|📕|📗|📘|📙|📓|📔|📒|📚|📖|🔖|📛|🔬|🔭|📰|🎨|🎬|🎤|🎧|🎼|🎵|🎶|🎹|🎻|🎺|🎷|🎸|👾|🎮|🃏|🎴|🀄|🎲|🎯|🏈|🏀|⚽|⚾|🎾|🎱|🏉|🎳|⛳|🚵|🚴|🏁|🏇|🏆|🎿|🏂|🏊|🏄|🎣|☕|🍵|🍶|🍼|🍺|🍻|🍸|🍹|🍷|🍴|🍕|🍔|🍟|🍗|🍖|🍝|🍛|🍤|🍱|🍣|🍥|🍙|🍘|🍚|🍜|🍲|🍢|🍡|🍳|🍞|🍩|🍮|🍦|🍨|🍧|🎂|🍰|🍪|🍫|🍬|🍭|🍯|🍎|🍏|🍊|🍋|🍒|🍇|🍉|🍓|🍑|🍈|🍌|🍐|🍍|🍠|🍆|🍅|🌽|🏠|🏡|🏫|🏢|🏣|🏥|🏦|🏪|🏩|🏨|💒|⛪|🏬|🏤|🌇|🌆|🏯|🏰|⛺|🏭|🗼|🗾|🗻|🌄|🌅|🌃|🗽|🌉|🎠|🎡|⛲|🎢|🚢|⛵|🚤|🚣|⚓|🚀|✈|💺|🚁|🚂|🚊|🚉|🚞|🚆|🚄|🚅|🚈|🚇|🚝|🚋|🚃|🚎|🚌|🚍|🚙|🚘|🚗|🚕|🚖|🚛|🚚|🚨|🚓|🚔|🚒|🚑|🚐|🚲|🚡|🚟|🚠|🚜|💈|🚏|🎫|🚦|🚥|⚠|🚧|🔰|⛽|🏮|🎰|♨|🗿|🎪|🎭|📍|🚩|⬆|⬇|⬅|➡|🔠|🔡|🔤|↗|↖|↘|↙|↔|↕|🔄|◀|▶|🔼|🔽|↩|↪|ℹ|⏪|⏩|⏫|⏬|⤵|⤴|🆗|🔀|🔁|🔂|🆕|🆙|🆒|🆓|🆖|📶|🎦|🈁|🈯|🈳|🈵|🈴|🈲|🉐|🈹|🈺|🈶|🈚|🚻|🚹|🚺|🚼|🚾|🚰|🚮|🅿|♿|🚭|🈷|🈸|🈂|Ⓜ|🛂|🛄|🛅|🛃|🉑|㊙|㊗|🆑|🆘|🆔|🚫|🔞|📵|🚯|🚱|🚳|🚷|🚸|⛔|✳|❇|❎|✅|✴|💟|🆚|📳|📴|🅰|🅱|🆎|🅾|💠|➿|♻|♈|♉|♊|♋|♌|♍|♎|♏|♐|♑|♒|♓|⛎|🔯|🏧|💹|💲|💱|©|®|™|〽|〰|🔝|🔚|🔙|🔛|🔜|❌|⭕|❗|❓|❕|❔|🔃|🕛|🕧|🕐|🕜|🕑|🕝|🕒|🕞|🕓|🕟|🕔|🕠|🕕|🕖|🕗|🕘|🕙|🕚|🕡|🕢|🕣|🕤|🕥|🕦|✖|➕|➖|➗|♠|♥|♣|♦|💮|💯|✔|☑|🔘|🔗|➰|🔱|🔲|🔳|◼|◻|◾|◽|▪|▫|🔺|⬜|⬛|⚫|⚪|🔴|🔵|🔻|🔶|🔷|🔸|🔹';
      return emojiStr.split('|');
    },
    editTags: function () {
      if (this.newEditTag === '' || this.newEditTag === undefined || this.newEditTag === null) {
        return [...new Set([...this.selectedTags, ...this.savedEditTags])];
      } else {
        return [...new Set([this.newEditTag, ...this.selectedTags, ...this.savedEditTags])];
      }
    },
    randomColors: function () {
      let color = randomColor({
          luminosity: 'dark',
          count: this.editTags.length,
          format: 'rgb'
      });
      return color;
    }
  },
  watch: {
  },
  beforeDestroy () {
  },
  data () {
    return {
      instruction: '',
      editorMode: false,
      instructionMode: false,
      instructionW: this.status === '0',
      editorW: this.status === '1',
      issuePop: false,
      viewerContentPopulated: false,
      viewerLoad: false,
      newEditTag: '',
      selectedTags: [ '廠商看這裡不要再踩雷了' ],
      savedEditTags: [ '廠商看這裡不要再踩雷了', '這是個測試標籤' ],
      robotTags: [ '死線快到啦！', '還有Issue未解' ],
      previewW: false,
      usedEmoji: ['🎎', '😄', '😃', '😀', '😊', '☺', '😉', '😍', '😘', '😚', '😗', '😙', '😜', '😝', '😛', '😳', '😁', '😔', '😌', '😒', '😞', '😣', '😢'],
      viewerOptions: {
        minHeight: '200px',
        language: 'zh',
        viewer: true
      },
      editorOptions: {
        minHeight: '200px',
        language: 'zh',
        useCommandShortcut: true,
        useDefaultHTMLSanitizer: true,
        usageStatistics: true,
        hideModeSwitch: false,
        plugins: [colorSyntax],
        toolbarItems: [
          'heading',
          'bold',
          'italic',
          'strike',
          'divider',
          'hr',
          'quote',
          'divider',
          'ul',
          'ol',
          'task',
          'indent',
          'outdent',
          'divider',
          'table',
          'image',
          'link',
          'divider'
        ]
      },
      editorText: '%7C%20%E7%A4%BA%E6%84%8F%E5%9C%96%20%7C%20%E8%AA%AA%E6%98%8E%20%7C%20%E6%97%81%E7%99%BD%20%7C%0A%7C%20---%20%7C%20---%20%7C%20---%20%7C%0A%7C%20%3Cspan%20style%3D%22color%3Ablack%22%3E%E3%80%90%E5%9C%92%E9%81%8A%E6%9C%83%E5%A0%B4%E6%99%AF%E3%80%91%3C%2Fspan%3E%20%7C%20%3Cspan%20style%3D%22color%3Ablack%22%3E%E3%80%90%E5%9C%92%E9%81%8A%E6%9C%83%E5%A0%B4%E6%99%AF%E3%80%91%3C%2Fspan%3E%3Cspan%20style%3D%22color%3A%20%23ce9178%3B%22%3E%F0%9F%8E%8E%F0%9F%8E%8E%3C%2Fspan%3E%3Cspan%20style%3D%22color%3A%20%23ce9178%3B%22%3E%F0%9F%8E%8E%3C%2Fspan%3E%20%7C%20%3Cbr%3E%E5%BE%88%E5%BF%AB%E5%B0%B1%E5%88%B0%E5%A4%A7%E5%AE%B6%E6%9C%9F%E5%BE%85%E5%B7%B2%E4%B9%85%E7%9A%84%E5%9C%92%E9%81%8A%E6%9C%83%E6%8B%89%EF%BC%81%E6%88%91%E5%80%91%E4%B8%80%E8%B5%B7%E5%8E%BB%E7%9C%8B%E7%9C%8B%E7%8B%90%E8%B2%8D%E8%B2%93%E7%8F%AD%E4%B8%8A%E8%B3%A3%E4%BB%80%E9%BA%BC%E5%90%A7%EF%BC%81%20%7C%0A%7C%20%20%7C%20%E8%B7%B3%E5%87%BA%E6%B5%B7%E5%A0%B1%E4%B8%8A%E9%9D%A2%E5%AF%AB%E3%80%8C%E5%A4%A7%E4%BA%A8%E5%A0%A1%E3%80%8040%2F%E5%80%8B%EF%BC%8C%E7%B3%96%E8%91%AB%E8%98%8625%2F%E4%B8%B2%20%E3%80%8D%20%7C%20%3Cbr%3E%E5%A4%A7%E4%BA%A8%E5%A0%A1%E4%B8%80%E5%80%8B%2040%20%E5%85%83%EF%BC%8C%E7%B3%96%E8%91%AB%E8%98%86%E4%B8%80%E4%B8%B2%2025%20%E5%85%83%E3%80%82%20%7C%0A%7C%20%20%7C%20%3Cspan%20style%3D%22color%3Ablack%22%3E%E3%80%90%E5%9C%92%E9%81%8A%E6%9C%83%E5%A0%B4%E6%99%AF%E3%80%91%3C%2Fspan%3E%3Cbr%3E%E5%9C%92%E9%81%8A%E6%9C%83%E5%A0%B4%E6%99%AF%E6%8E%A5%E7%BA%8C%EF%BC%8C%E5%87%BA%E7%8F%BE%E6%A2%A8%E6%A2%A8%E5%8F%AB%E8%B3%A3%20%7C%20%3Cbr%3E%E5%A4%9A%E8%99%A7%E4%BA%86%E6%A2%A8%E6%A2%A8%E7%86%B1%E6%83%85%E7%9A%84%E5%8F%AB%E8%B3%A3%EF%BC%8C%E6%94%A4%E4%BD%8D%E5%BE%88%E5%BF%AB%E5%B0%B1%E5%87%BA%E7%8F%BE%E7%B5%A1%E7%B9%B9%E4%B8%8D%E7%B5%95%E7%9A%84%E5%AE%A2%E4%BA%BA%E5%9C%A8%E6%8E%92%E9%9A%8A%E3%80%82%20%7C%0A%7C%20%20%7C%20%3Cspan%20style%3D%22color%3Ablack%22%3E%E3%80%90%E5%9C%92%E9%81%8A%E6%9C%83%E5%A0%B4%E6%99%AF%E3%80%91%3C%2Fspan%3E%3Cbr%3E%E7%8B%90%E7%8B%B8%E8%B2%93%E5%9C%A8%E6%94%A4%E4%BD%8D%E6%97%81%E7%85%A9%E6%83%B1%E7%9A%84%E6%A8%A3%E5%AD%90%20%7C%20%3Cbr%3E%E8%80%81%E5%B8%AB%E6%8A%8A%E6%94%B6%E9%8C%A2%E7%9A%84%E9%87%8D%E8%B2%AC%E5%A4%A7%E4%BB%BB%E4%BA%A4%E7%B5%A6%E4%BB%96%EF%BC%8C%E4%BD%86%E6%98%AF%E7%8B%90%E7%8B%B8%E8%B2%93%E9%9D%A2%E8%87%A8%E4%BA%86%E4%B8%80%E5%80%8B%E9%9B%A3%E9%A1%8C%EF%BC%8C%E9%82%A3%E5%B0%B1%E6%98%AF......%E7%8B%90%E7%8B%B8%E8%B2%93%E4%B8%8D%E6%9C%83%E7%AE%97%E9%8C%A2%EF%BC%81%EF%BC%88%E5%87%BA%E7%8F%BE%E9%A9%9A%E8%A8%9D%E7%9A%84%E8%83%8C%E6%99%AF%E9%85%8D%E6%A8%82%EF%BC%89%20%7C%0A%7C%20%20%7C%20%3Cspan%20style%3D%22color%3Ablack%22%3E%E3%80%90%E5%9C%92%E9%81%8A%E6%9C%83%E5%A0%B4%E6%99%AF%E3%80%91%3C%2Fspan%3E%3Cbr%3E%E5%9C%92%E9%81%8A%E6%9C%83%E5%A0%B4%E6%99%AF%E6%8E%A5%E7%BA%8C%EF%BC%8C%E5%87%BA%E7%8F%BE%E5%BE%88%E5%A4%9A%E4%BA%BA%E6%8E%92%E9%9A%8A%E3%80%82%20%7C%20%3Cbr%3E%E4%BD%86%E6%98%AF%E5%AE%A2%E4%BA%BA%E5%B7%B2%E7%B6%93%E9%96%8B%E5%A7%8B%E6%8E%92%E9%9A%8A%E9%BB%9E%E9%A4%90%E4%BA%86%EF%BC%8C%E6%88%91%E5%80%91%E5%85%88%E4%BE%86%E7%9C%8B%E7%9C%8B%E7%AC%AC%E4%B8%80%E4%BD%8D%E5%AE%A2%E4%BA%BA%E9%BB%9E%E4%BB%80%E9%BA%BC%E3%80%82%20%7C%0A%7C%20!%5B%5D(file%3A%2F%2F%2FC%3A%2FUsers%2Fkelun%2FAppData%2FLocal%2FTemp%2Fmsohtmlclip1%2F01%2Fclip_image002.png)%E5%8F%83%E8%80%83%E5%A6%82%E4%B8%8A%E5%9C%96%20%7C%20%E5%87%BA%E7%8F%BE%E8%A8%82%E5%96%AE%EF%BC%8C%E4%B8%8A%E9%9D%A2%E5%87%BA%E7%8F%BE%E5%A4%A7%E4%BA%A8%E5%A0%A1%E8%B7%9F%E5%85%A9%E4%B8%B2%E7%B3%96%E8%91%AB%E8%98%86%EF%BC%8C%E4%B8%8B%3Cspan%20style%3D%22color%3A%237cafc2%22%3E%E9%9D%A2%E5%AF%AB%E7%B8%BD%E9%87%91%3C%2Fspan%3E%E9%A1%8D%E3%80%82%20%7C%20%3Cbr%3E%E4%BB%96%E9%BB%9E%E4%BA%86%E4%B8%80%E5%80%8B%E5%A4%A7%E4%BA%A8%E5%A0%A1%E8%B7%9F%E5%85%A9%E4%B8%B2%E7%B3%96%E8%91%AB%E8%98%86%E3%80%82%F0%9F%98%84%F0%9F%98%84%F0%9F%98%84%20%7C%0A%7C%20%20%7C%20%E7%8B%90%E8%B2%8D%E8%B2%93%E5%91%88%E7%8F%BE%E7%84%A6%E6%85%AE%E6%A8%A3%E5%AD%90%20%7C%20%3Cbr%3E%E7%8B%90%E8%B2%8D%E8%B2%93%EF%BC%9A%E6%80%8E%E9%BA%BC%E8%BE%A6%EF%BC%9F%E6%88%91%E4%B8%8D%E6%9C%83%E7%AE%97%E9%8C%A2%E6%8B%89%EF%BC%81%E8%AA%B0%E5%8F%AF%E4%BB%A5%E5%B9%AB%E5%B9%AB%E6%88%91%EF%BC%9F%20%7C%0A%7C%20%3Cbr%3E%C2%A0%3Cbr%3E%C2%A0%20%7C%20%3Cspan%20style%3D%22color%3Ablack%22%3E%E5%BD%B1%E7%89%87%E6%8F%92%E5%85%A5%E7%BF%92%E9%A1%8C%3C%2Fspan%3E%3Cbr%3E%3Cspan%20style%3D%22color%3Ablack%22%3E%E4%B8%80%E5%80%8B%E5%A4%A7%E4%BA%A8%E5%A0%A140%E5%85%83%EF%BC%8C%E4%B8%80%3C%2Fspan%3E**%3Cspan%20style%3D%22color%3Ared%22%3E%E4%B8%B2%3C%2Fspan%3E**%3Cspan%20style%3D%22color%3Ablack%22%3E%E7%B3%96%E8%91%AB%E8%98%8625%E5%85%83%E3%80%82%E4%BD%A0%E5%8F%AF%E4%BB%A5%E5%B9%AB%E7%8B%90%E8%B2%8D%E8%B2%93%E7%AE%97%E7%AE%97%E4%B8%80%E5%80%8B%E7%9A%84%E5%A4%A7%E4%BA%A8%E5%A0%A1%E5%92%8C%E5%85%A9%E4%B8%B2%E7%9A%84%E7%B3%96%E8%91%AB%E8%98%86%E8%A6%81%E6%94%B6%E5%A4%9A%E5%B0%91%E9%8C%A2%E5%97%8E%EF%BC%9F%3C%2Fspan%3E%3Cbr%3E%3Cspan%20style%3D%22color%3Ablack%22%3EA)105%3C%2Fspan%3E%3Cbr%3E%3Cspan%20style%3D%22color%3Ablack%22%3E(B)%2080%3C%2Fspan%3E%3Cbr%3E%3Cspan%20style%3D%22color%3Ablack%22%3E(C)%2090%3C%2Fspan%3E%3Cbr%3E%C2%A0%3Cbr%3E%C2%A0%3Cbr%3E%E7%AD%94%E6%A1%88%E9%81%B8%20%EF%BC%88C%EF%BC%89%E3%80%82%20%7C%20%20%7C%0A%7C%20%3Cspan%20style%3D%22color%3Ablack%22%3E%EF%BC%88%E8%A7%A3%E9%A1%8C%E6%99%AF1%EF%BC%89%3C%2Fspan%3E%3Cbr%3E%E5%BA%95%E5%9C%96%E5%8F%AF%E5%8F%83%E8%80%83%E4%B8%8B%E5%9C%96%3Cbr%3E!%5B%5D(file%3A%2F%2F%2FC%3A%2FUsers%2Fkelun%2FAppData%2FLocal%2FTemp%2Fmsohtmlclip1%2F01%2Fclip_image004.png)%20%7C%20%3Cspan%20style%3D%22color%3Ablack%22%3E%EF%BC%88%E8%A7%A3%E9%A1%8C%E6%99%AF1%EF%BC%89%3C%2Fspan%3E%E5%87%BA%E7%8F%BE%E3%80%8C%E7%B8%BD%E9%87%91%E9%A1%8D%3Cbr%3E%EF%BC%9D%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%EF%BC%8B%E7%B3%96%E8%91%AB%E8%98%86%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E3%80%8D%20%7C%20%3Cbr%3E%E7%8B%90%E8%B2%8D%E8%B2%93%E8%A6%81%E6%94%B6%E7%9A%84%E9%8C%A2%E5%B0%B1%E6%98%AF%20%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E5%8A%A0%E4%B8%8A%E7%B3%96%E8%91%AB%E8%98%86%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%20%E5%B0%B1%E8%83%BD%E7%AE%97%E5%87%BA%E4%BE%86%E5%9B%89%EF%BC%81%20%7C%0A%7C%20%20%7C%20%E8%B7%B3%E5%87%BA%E7%8B%90%E8%B2%8D%E8%B2%93%F0%9F%98%83%F0%9F%98%83%F0%9F%98%83%20%7C%20%3Cbr%3E%E7%8B%90%E8%B2%8D%E8%B2%93%EF%BC%9A%E9%82%A3%E8%A6%81%E6%80%8E%E9%BA%BC%E7%AE%97%3Cspan%20style%3D%22color%3A%23ba8baf%22%3E%E5%A4%A7%E4%BA%A8%E5%A0%A1%E8%B7%9F%E7%B3%96%E8%91%AB%3C%2Fspan%3E%E8%98%86%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E5%91%A2%EF%BC%9F%20%7C%0A%7C%20!%5B%5D(file%3A%2F%2F%2FC%3A%2FUsers%2Fkelun%2FAppData%2FLocal%2FTemp%2Fmsohtmlclip1%2F01%2Fclip_image006.png)%20%7C%20%E4%B8%8A%E4%B8%80%E5%80%8B%E7%95%AB%E9%9D%A2%E6%8E%A5%E7%BA%8C%EF%BC%8C%20%E3%80%8C%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E3%80%8D%E9%96%83%E7%88%8D%E8%A1%A8%E7%A4%BA%20%E3%80%82%E5%BE%9E%E3%80%8C%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E3%80%8D%E8%B7%B3%E5%87%BA%E3%80%8C%E5%A4%A7%E4%BA%A8%E5%A0%A1%E5%96%AE%E5%83%B9X%E8%B2%B7%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E5%80%8B%E6%95%B8%E3%80%8D%20%7C%20%3Cbr%3E%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E6%9C%83%E7%AD%89%E6%96%BC%E4%B8%80%E5%80%8B%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E9%8C%A2%E4%B9%98%E4%BB%A5%E8%B2%B7%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E5%80%8B%E6%95%B8%E3%80%82%20%7C%0A%7C%20!%5B%5D(file%3A%2F%2F%2FC%3A%2FUsers%2Fkelun%2FAppData%2FLocal%2FTemp%2Fmsohtmlclip1%2F01%2Fclip_image008.png)%20%7C%20%E6%8E%A5%E8%91%97%E3%80%8C%E7%B3%96%E8%91%AB%E8%98%86%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E3%80%8D%E9%96%83%E7%88%8D%E8%A1%A8%E7%A4%BA%E3%80%82%E5%BE%9E%E3%80%8C%E7%B3%96%E8%91%AB%E8%98%86%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E3%80%8D%E8%B7%B3%E5%87%BA%E3%80%8C%E7%B3%96%E8%91%AB%E8%98%86%E5%96%AE%E5%83%B9X%E8%B2%B7%E7%B3%96%E8%91%AB%E8%98%86%E7%9A%84%E5%80%8B%E6%95%B8%E3%80%8D%20%7C%20%E7%B3%96%E8%91%AB%E8%98%86%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%AF%AB%E5%87%BA%E4%B8%80%E6%A8%A3%E7%9A%84%E7%AE%97%E5%BC%8F%E5%93%A6%EF%BC%81%F0%9F%98%8A%F0%9F%98%8A%F0%9F%98%8A%20%7C%0A%7C%20!%5B%5D(file%3A%2F%2F%2FC%3A%2FUsers%2Fkelun%2FAppData%2FLocal%2FTemp%2Fmsohtmlclip1%2F01%2Fclip_image010.png)%20%7C%20%E4%B8%8A%E4%B8%80%E5%80%8B%E7%95%AB%E9%9D%A2%E6%8E%A5%E7%BA%8C%EF%BC%8C%E5%8F%B3%E9%82%8A%E6%96%87%E5%AD%97(%E7%B3%96%E8%91%AB%E8%98%86)%E6%B7%A1%E5%8C%96%EF%BC%8C%E5%BE%9E%E3%80%8C%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E5%96%AE%E5%83%B9%EF%BC%8E%EF%BC%8E%EF%BC%8E%E3%80%8D%E5%90%91%E4%B8%8B%E8%B7%B3%E5%87%BA%20%E2%80%9C40X1%E2%80%9D%20%7C%20%3Cbr%3E%E6%89%80%E4%BB%A5%E5%A4%A7%E4%BA%A8%E5%A0%A1%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E5%B0%B1%E6%98%AF%2040%E5%85%83%E3%80%82%20%7C%0A%7C%20!%5B%5D(file%3A%2F%2F%2FC%3A%2FUsers%2Fkelun%2FAppData%2FLocal%2FTemp%2Fmsohtmlclip1%2F01%2Fclip_image012.png)%20%7C%20%E5%8F%B3%E9%82%8A(%E7%B3%96%E8%91%AB%E8%98%86)%E6%81%A2%E5%BE%A9%E6%AD%A3%E5%B8%B8%E9%A1%8F%E8%89%B2%EF%BC%8C%E6%8E%A5%E8%91%97%E5%BE%9E%E3%80%8C%E7%B3%96%E8%91%AB%E8%98%86%E7%9A%84%E5%96%AE%E5%83%B9%E3%80%8D%E8%B7%B3%E5%87%BA%20%E2%80%9C25X2%E2%80%9D%20%7C%20%3Cbr%3E%E7%B3%96%E8%91%AB%E8%98%86%E7%9A%84%E7%B8%BD%E9%87%91%E9%A1%8D%E5%B0%B1%E6%98%AF%2025%5C*2%20%E5%85%83%E3%80%82%20%7C',
      savedScrolltop: 0,
      editor: null,
      tipword: '自動備份於：2020/10/28 10:27:58（每三分鐘備份一次）',
      displaypanelHeight: 0,
      player: null,
      playbackrate: 1,
      currentPos: null,
      editlogw: false,
      issuelistViewer: undefined,
      siteconfig: SiteConfig,
      editlog: [
        {
          icon: 'arrow-circle-up',
          date: '2020/10/20 11:00:55',
          user: 'A廠商',
          message: '影片已上傳'
        },
        {
          icon: 'check-circle',
          date: '2020/10/18 10:00:55',
          user: 'X博士',
          message: '腳本已同意'
        },
        {
          icon: 'arrow-circle-up',
          date: '2020/10/16 11:00:55',
          user: 'A廠商',
          message: '腳本已上傳（第2次）'
        },
        {
          icon: 'times-circle',
          date: '2020/10/14 10:00:55',
          user: 'X博士',
          message: '要求修改後重新上傳腳本'
        },
        {
          icon: 'arrow-circle-up',
          date: '2020/10/12 01:00:55',
          user: 'A廠商',
          message: '腳本已上傳（第1次）'
        }
      ],
      issues: [
        {
          status: 0,
          id: 0,
          tagEmoji: '😄',
          title: '我是Issue，點我，會快進到我對應的時間點',
          dialogs: [
            {
              tick: 1602778220,
              id: 1,
              name: 'X博士',
              body: '圖畫里，龍不吟虎不嘯，小小書童可笑可笑！',
              ava: 'https://avatars.dicebear.com/api/male/mrx.svg'
            },
            {
              tick: 1602779000,
              id: 2,
              name: 'A廠商',
              body: '棋盤裡，車無論馬無疆，道聲將軍提防提防！',
              ava: 'https://avatars.dicebear.com/api/female/mra.svg'
            },
            {
              tick: 1602782000,
              id: 3,
              name: '中心PM A',
              body: '十口心思，思君思國思社稷',
              ava: 'https://avatars.dicebear.com/api/male/pmb.svg'
            },
            {
              tick: 1603016056,
              id: 4,
              name: '均一PM A',
              body: '八目共賞，賞花賞月賞秋香',
              ava: 'https://avatars.dicebear.com/api/female/pma.svg'
            },
            {
              tick: 1603017050,
              id: 5,
              name: '機器人巡邏',
              body: '這個動作的截止時間還剩2天！',
              ava: 'https://avatars.dicebear.com/api/bottts/bot.svg'
            }
          ]
        },
        {
          status: 0,
          id: 1,
          tagEmoji: '🎎',
          title: '同時間的issue，在時間軸到的時候會同步展開',
          dialogs: [
            {
              tick: 1602778220,
              id: 1,
              name: 'X博士',
              body: '一鄉二里，共三夫子不識四書五經六義，竟敢教七八九子，十分大膽。',
              ava: 'https://avatars.dicebear.com/api/male/mrx.svg'
            },
            {
              tick: 1602779000,
              id: 2,
              name: 'A廠商',
              body: '十室九貧，湊得八兩七錢六分五毫四厘，尚且又三心二意，一等下流。',
              ava: 'https://avatars.dicebear.com/api/female/mra.svg'
            },
            {
              tick: 1602782000,
              id: 3,
              name: '中心PM A',
              body: '鶯鶯燕燕翠翠紅紅處處融融洽洽。',
              ava: 'https://avatars.dicebear.com/api/male/pmb.svg'
            },
            {
              tick: 1603016056,
              id: 4,
              name: '均一PM A',
              body: '雨雨風風花花葉葉年年暮暮朝朝。',
              ava: 'https://avatars.dicebear.com/api/female/pma.svg'
            },
            {
              tick: 1603017050,
              id: 5,
              name: '機器人巡邏',
              body: '這個動作的截止時間還剩1天！',
              ava: 'https://avatars.dicebear.com/api/bottts/bot.svg'
            }
          ]
        },
        {
          status: 0,
          id: 2,
          tagEmoji: '😃',
          title: '再來一條',
          dialogs: [
            {
              tick: 1602778220,
              id: 1,
              name: 'X博士',
              body: '沒詪了，就這樣吧',
              ava: 'https://avatars.dicebear.com/api/male/mrx.svg'
            }
          ]
        },
        {
          status: 1,
          id: 3,
          tagEmoji: '😊',
          title: '這是一個被關閉的issue',
          dialogs: [
            {
              tick: 1602778220,
              id: 1,
              name: 'X博士',
              body: '都被關了你還看！',
              ava: 'https://avatars.dicebear.com/api/male/mrx.svg'
            },
            {
              tick: 1602779000,
              id: 2,
              name: '均一PM A',
              body: '我關的',
              ava: 'https://avatars.dicebear.com/api/female/mra.svg'
            },
            {
              tick: 1602779000,
              id: 4,
              name: '機器人登記',
              body: '均一PM A關閉了這個issue',
              ava: 'https://avatars.dicebear.com/api/bottts/bot.svg'
            }
          ]
        }
      ]
    };
  }
};
</script>
